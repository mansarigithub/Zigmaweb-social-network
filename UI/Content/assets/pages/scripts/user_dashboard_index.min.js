$(function () {
    zw.page.initialize();
});

zw.page = {
    strings: {

    },

    initialize: function () {
        $('#btnSendEmailConfirmation').click(zw.page.sendEmailConfirmation);

        zw.ui.charts.buildChart({
            dataUrl: "/User/Dashboard/GetArticlesVisitChartData",
            chartDiv: "articlesVisitChart",
            theme: "none",
            valueField: 'Value',
            categoryField: 'Key'
        });

        zw.ui.charts.buildChart({
            dataUrl: "/User/Dashboard/GetPostsVisitChartData",
            chartDiv: "postsVisitChart",
            theme: "none",
            valueField: 'Value',
            categoryField: 'Key'
        });
    },
    sendEmailConfirmation: () => {
        $.ajax('/user/service/ResendEmailConfirmationLink', {
            method: 'POST',
            beforeSend: function () {
                $('#btnSendEmailConfirmation').addClass('disabled');
                zw.ui.showMessage('', 'در حال ارسال ایمیل تایید', 'info');
            },
            success: function (response) {
                zw.ui.showMessage('', 'لینک تایید به آدرس ایمیل شما ارسال شد', 'info');
            },
            complete: function (response) {
                $('#btnSendEmailConfirmation').removeClass('disabled');
            },
            error: function (response) {
            }
        });
    },
};

